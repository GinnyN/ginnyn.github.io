(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),i=a.n(s),l=(a(15),a(2)),o=a(3),c=a(6),u=a(4),m=a(1),h=a(5),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).favArray=JSON.parse(localStorage.getItem("arrayFavorites"))||[],a.state={description:"",year:"",ranting:"",released:"",runtime:"",genre:"",actors:"",director:"",favorite:a.favArray.includes(a.props.movie.imdbID)},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleClick=a.handleClick.bind(Object(m.a)(a)),a.favorite=a.favorite.bind(Object(m.a)(a)),a.unfavorite=a.unfavorite.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleClick",value:function(e){var t=this;fetch("https://www.omdbapi.com/?i="+this.props.movie.imdbID+"&apikey=5cb86053").then(function(e){return e.json()}).then(function(e){console.log(e),"True"==e.Response&&t.setState({description:e.Plot,year:e.Year,ranting:e.Rated,released:e.Released,runtime:e.Runtime,genre:e.Genre,actors:e.Actors,director:e.Director})})}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"favorite",value:function(e){localStorage.setItem("arrayFavorites"+this.props.movie.imdbID,JSON.stringify(this.props.movie));var t=JSON.parse(localStorage.getItem("arrayFavorites"))||[];t.push(this.props.movie.imdbID),localStorage.setItem("arrayFavorites",JSON.stringify(t)),this.setState({favorite:!0})}},{key:"unfavorite",value:function(e){localStorage.removeItem("arrayFavorites"+this.props.movie.imdbID);var t=JSON.parse(localStorage.getItem("arrayFavorites"))||[],a=t.indexOf(this.props.movie.imdbID);t.splice(a,1),localStorage.setItem("arrayFavorites",JSON.stringify(t)),this.setState({favorite:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:this.props.movie.Poster,className:"card-img-top"}),r.a.createElement("div",{className:"card-body"},this.state.favorite?r.a.createElement("i",{className:"push-right fas fa-star",onClick:this.unfavorite}):r.a.createElement("i",{className:"push-right far fa-star",onClick:this.favorite}),r.a.createElement("h5",{className:"card-title"},r.a.createElement("strong",null,this.props.movie.Title)," (",this.props.movie.Year,")"),""!==this.state.year?r.a.createElement("p",{className:"card-text"},this.state.year," | Rated: ",this.state.ranting,r.a.createElement("br",null),this.state.released," | ",this.state.runtime,r.a.createElement("br",null),this.state.genre,r.a.createElement("br",null),r.a.createElement("small",null,this.state.description,r.a.createElement("br",null),"Actors: ",this.state.actors,r.a.createElement("br",null),"Director: ",this.state.director,r.a.createElement("br",null))):null,""===this.state.year?r.a.createElement("button",{className:"btn btn-info btn-sm",onClick:this.handleClick},"M\xe1s info"):null))}}]),t}(r.a.Component),d=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={value:"",movies:[],pageNumber:0,nextPage:!1,lastPage:!1},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleBlur=a.handleBlur.bind(Object(m.a)(a)),a.handlePagePlus=a.handlePagePlus.bind(Object(m.a)(a)),a.handlePageMinus=a.handlePageMinus.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handlePagePlus",value:function(e){var t=this,a=this.state.pageNumber+1;fetch("https://www.omdbapi.com/?s="+this.state.value+"&apikey=5cb86053&page="+a).then(function(e){return e.json()}).then(function(e){console.log(e),"True"==e.Response&&t.setState({movies:e.Search,pageNumber:a,nextPage:e.totalResults>10*a,lastPage:10<10*a}),console.log(t.state)})}},{key:"handlePageMinus",value:function(e){var t=this,a=this.state.pageNumber-1;fetch("https://www.omdbapi.com/?s="+this.state.value+"&apikey=5cb86053&page="+a).then(function(e){return e.json()}).then(function(e){console.log(e),"True"==e.Response&&t.setState({movies:e.Search,pageNumber:a,nextPage:e.totalResults>10*a,lastPage:10<10*a}),console.log(t.state)})}},{key:"handleBlur",value:function(e){var t=this;fetch("https://www.omdbapi.com/?apikey=5cb86053&s="+this.state.value).then(function(e){return e.json()}).then(function(e){console.log(e),"True"==e.Response&&t.setState({movies:e.Search,pageNumber:1,nextPage:e.totalResults>10,lastPage:!1})})}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"input-group mb-2 divInput"},r.a.createElement("input",{type:"text",className:"InputSearch form-control form-control-lg",id:"inlineFormInputGroup",placeholder:"Buscar por Nombre",value:this.state.value,onChange:this.handleChange,onBlur:this.handleBlur})),r.a.createElement("div",{className:"row"},this.state.movies.map(function(e){return r.a.createElement(v,{movie:e,key:e.imdbID})})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},this.state.lastPage?r.a.createElement("button",{type:"button",className:"push-left btn btn-light",onClick:this.handlePageMinus},r.a.createElement("i",{className:"fas fa-arrow-left"})):null),r.a.createElement("div",{className:"col-6"},this.state.nextPage?r.a.createElement("button",{type:"button",className:"push-right btn btn-light",onClick:this.handlePagePlus},r.a.createElement("i",{className:"fas fa-arrow-right"})):null)))}}]),t}(r.a.Component),b=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e));var n=JSON.parse(localStorage.getItem("arrayFavorites"))||[];return a.state={array:n},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row"},this.state.array.map(function(e){return r.a.createElement(v,{movie:JSON.parse(localStorage.getItem("arrayFavorites"+e)),key:JSON.parse(localStorage.getItem("arrayFavorites"+e)).imdbID})})))}}]),t}(r.a.Component),p=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={busqueda:!0},a.busqueda=a.busqueda.bind(Object(m.a)(a)),a.favorito=a.favorito.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"busqueda",value:function(e){this.setState({busqueda:!0})}},{key:"favorito",value:function(e){this.setState({busqueda:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"NavBar navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"B\xfasqueda de Pel\xedculas"),r.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{class:"navbar-nav mr-auto"},r.a.createElement("li",{class:"nav-item active"},r.a.createElement("a",{class:"nav-link",href:"#",onClick:this.busqueda},"B\xfasqueda")),r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link",href:"#",onClick:this.favorito},"Favoritos"))))),r.a.createElement("div",{className:"container"},this.state.busqueda?r.a.createElement(d,null):r.a.createElement(b,null)))}}]),t}(r.a.Component);a(16);var g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.962241e0.chunk.js.map